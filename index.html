<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ³ ë°”ì˜ë‹¤ ë°”ë¹  ë“ ë“ íŒŒíŒŒ ëª¨ë‹ ë ˆì‹œí”¼</title>
<link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Noto+Sans+KR:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --cream: #FDF6EC;
    --warm: #F5E6D0;
    --orange: #E8845A;
    --orange-dark: #C96A40;
    --brown: #5C3D2E;
    --text: #2C1810;
    --text-light: #7A5C4F;
    --yellow: #F2C84B;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--cream);
    font-family: 'Gamja Flower', 'Noto Sans KR', sans-serif;
    color: var(--text);
    min-height: 100vh;
  }

  /* HEADER */
  header {
    background: var(--brown);
    background-image: url('header.png');
    background-size: cover;
    background-position: center;
    padding: 80px 24px 70px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  header::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.55);
    z-index: 0;
  }
  header::after {
    content: '';
    position: absolute;
    bottom: -80px; right: -40px;
    width: 250px; height: 250px;
    border-radius: 50%;
    background: rgba(255,255,255,0.03);
  }
  header .header-emoji,
  header h1,
  header p {
    position: relative;
    z-index: 1;
  }
  .header-emoji { display: none; }

  header h1 {
    font-family: 'Gamja Flower', sans-serif;
    font-size: 20px;
    font-weight: 400;
    color: #FDF6EC;
    letter-spacing: -0.5px;
    margin-bottom: 8px;
    text-shadow: 0 2px 8px rgba(0,0,0,0.8), 0 1px 3px rgba(0,0,0,0.9);
  }
  header p {
    color: rgba(253,246,236,0.9);
    font-size: 13px;
    font-weight: 300;
    letter-spacing: 0.5px;
    text-shadow: 0 1px 6px rgba(0,0,0,0.8);
  }

  /* NAV TABS */
  .nav {
    display: flex;
    justify-content: center;
    background: var(--warm);
    border-bottom: 2px solid rgba(92,61,46,0.1);
    position: sticky;
    top: 0;
    z-index: 100;
  }
  .nav-btn {
    padding: 12px 18px;
    border: none;
    background: transparent;
    cursor: pointer;
    font-family: 'Gamja Flower', sans-serif;
    font-size: 14px;
    font-weight: 400;
    color: var(--text-light);
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 4px;
    white-space: nowrap;
  }
  .nav-btn:hover { color: var(--orange); background: rgba(232,132,90,0.05); }
  .nav-btn.active {
    color: var(--orange-dark);
    border-bottom-color: var(--orange);
    font-weight: 700;
  }

  /* MAIN CONTENT */
  main { max-width: 900px; margin: 0 auto; padding: 40px 24px 80px; }

  .section { display: none; }
  .section.active { display: block; animation: fadeIn 0.3s ease; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

  .section-title {
    font-family: 'Gamja Flower', sans-serif;
    font-size: 22px;
    font-weight: 400;
    color: var(--brown);
    margin-bottom: 24px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--warm);
    display: flex;
    align-items: center;
    gap: 10px;
  }

  /* FILTER */
  .filter-wrap {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 24px;
  }
  .filter-row {
    display: flex;
    align-items: center;
    gap: 5px;
    flex-wrap: wrap;
  }
  .filter-label {
    font-size: 11px;
    color: var(--text-light);
    white-space: nowrap;
    flex-shrink: 0;
    min-width: 30px;
  }
  .filter-btn {
    padding: 5px 10px;
    border-radius: 30px;
    border: 2px solid var(--warm);
    background: white;
    cursor: pointer;
    font-family: 'Gamja Flower', sans-serif;
    font-size: 12px;
    color: var(--text-light);
    transition: all 0.2s;
    white-space: nowrap;
    flex-shrink: 0;
  }
  .filter-btn:hover { border-color: var(--orange); color: var(--orange); }
  .filter-btn.active {
    background: var(--orange);
    border-color: var(--orange);
    color: white;
  }
  .filter-btn:hover { border-color: var(--orange); color: var(--orange); }
  .filter-btn.active {
    background: var(--orange);
    border-color: var(--orange);
    color: white;
  }

  /* CARDS */
  .card.hidden { display: none; }
  .cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 20px; }

  .card {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 2px 12px rgba(92,61,46,0.08);
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    border: 1px solid rgba(92,61,46,0.07);
  }
  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(92,61,46,0.15);
  }
  .card-thumb {
    width: 100%;
    aspect-ratio: 4 / 3;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 64px;
    overflow: hidden;
  }
  .card-thumb img { width: 100%; height: 100%; object-fit: cover; }
  .card-thumb.main-bg    { background: linear-gradient(135deg, #FFF0E6, #FFD6B8); }
  .card-thumb.sub-bg     { background: linear-gradient(135deg, #E8F4EA, #C8E6CC); }
  .card-thumb.dessert-bg { background: linear-gradient(135deg, #FFF0F5, #FFD6E8); }
  .card-thumb.pasta-bg   { background: linear-gradient(135deg, #FFFDE7, #FFF9C4); }

  .card-body { padding: 16px; }
  .card-name {
    font-family: 'Gamja Flower', sans-serif;
    font-size: 17px;
    margin-bottom: 6px;
    color: var(--text);
  }
  .card-meta { display: flex; gap: 8px; flex-wrap: wrap; }
  .badge {
    font-size: 11px;
    padding: 3px 8px;
    border-radius: 20px;
    font-weight: 500;
  }
  .badge-time { background: #FFF3E0; color: #E65100; }
  .badge-diff { background: #F3E5F5; color: #6A1B9A; }
  .badge-kcal { background: #E8F5E9; color: #2E7D32; }

  /* ë¹ˆ ì¹´í…Œê³ ë¦¬ */
  .empty-msg {
    text-align: center;
    padding: 60px 20px;
    color: var(--text-light);
    font-size: 16px;
    line-height: 2;
  }
  .empty-msg span { font-size: 40px; display: block; margin-bottom: 12px; }

  /* MODAL */
  .overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(44,24,16,0.5);
    z-index: 200;
    backdrop-filter: blur(4px);
    align-items: center;
    justify-content: center;
    padding: 24px;
  }
  .overlay.open { display: flex; animation: fadeIn 0.2s ease; }

  .modal {
    background: white;
    border-radius: 20px;
    max-width: 560px;
    width: 100%;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(44,24,16,0.25);
  }
  .modal-header {
    padding: 32px 28px 20px;
    border-bottom: 1px solid var(--warm);
    background: white;
    border-radius: 20px 20px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
  }
  .modal-actions {
    display: flex;
    gap: 6px;
    flex-shrink: 0;
    align-items: center;
  }
  .modal-action-btn {
    background: var(--warm);
    border: none;
    width: 36px; height: 36px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 16px;
    display: flex; align-items: center; justify-content: center;
    transition: background 0.2s;
  }
  .modal-action-btn:hover { background: #E8D5C0; }
  .modal-emoji { font-size: 40px; margin-bottom: 8px; display: block; }
  .modal-title {
    font-family: 'Gamja Flower', sans-serif;
    font-size: 24px;
    color: var(--text);
  }
  .modal-close {
    background: var(--warm);
    border: none;
    width: 36px; height: 36px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 18px;
    color: var(--text-light);
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
    transition: background 0.2s;
  }
  .modal-close:hover { background: #E8D5C0; }
  .modal-body { padding: 24px 28px 32px; }

  .meta-row { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 24px; }

  .modal-section-title {
    font-size: 13px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--orange);
    margin-bottom: 12px;
    margin-top: 24px;
  }
  .modal-section-title:first-of-type { margin-top: 0; }

  .ingredient-list { list-style: none; }
  .ingredient-list li {
    padding: 8px 0;
    border-bottom: 1px solid #F5F0EB;
    font-size: 14px;
    color: var(--text);
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .ingredient-list li::before {
    content: '';
    width: 6px; height: 6px;
    border-radius: 50%;
    background: var(--orange);
    flex-shrink: 0;
  }

  .step-list { list-style: none; counter-reset: steps; }
  .step-list li {
    counter-increment: steps;
    padding: 10px 0 10px 44px;
    border-bottom: 1px solid #F5F0EB;
    font-size: 14px;
    line-height: 1.6;
    color: var(--text);
    position: relative;
  }
  .step-list li::before {
    content: counter(steps);
    position: absolute;
    left: 0; top: 10px;
    width: 28px; height: 28px;
    border-radius: 50%;
    background: var(--orange);
    color: white;
    font-size: 12px;
    font-weight: 700;
    display: flex; align-items: center; justify-content: center;
  }

  .tip-box {
    margin-top: 20px;
    background: #FFF8F0;
    border-left: 3px solid var(--yellow);
    border-radius: 0 10px 10px 0;
    padding: 14px 16px;
    font-size: 13px;
    color: var(--text-light);
    line-height: 1.6;
  }
  .tip-box strong { color: var(--orange-dark); }

  /* SEARCH */
  .search-wrap {
    background: white;
    border-bottom: 1px solid var(--warm);
    padding: 14px 16px;
  }
  .search-inner {
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .search-category-row {
    display: flex;
    gap: 5px;
    flex-wrap: wrap;
  }
  .search-cat-btn {
    padding: 5px 10px;
    border-radius: 30px;
    border: 2px solid var(--warm);
    background: white;
    cursor: pointer;
    font-family: 'Gamja Flower', sans-serif;
    font-size: 12px;
    color: var(--text-light);
    white-space: nowrap;
    flex-shrink: 0;
    transition: all 0.2s;
  }
  .search-cat-btn:hover { border-color: var(--orange); color: var(--orange); }
  .search-cat-btn.active {
    background: var(--orange);
    border-color: var(--orange);
    color: white;
  }
  .search-input-row {
    display: flex;
    gap: 8px;
    align-items: center;
  }
  .search-box {
    display: flex;
    align-items: center;
    flex: 1;
    background: var(--cream);
    border: 2px solid var(--warm);
    border-radius: 30px;
    padding: 8px 14px;
    gap: 8px;
    transition: border-color 0.2s;
  }
  .search-box:focus-within { border-color: var(--orange); }
  .search-box input {
    border: none;
    background: transparent;
    font-family: 'Gamja Flower', sans-serif;
    font-size: 14px;
    color: var(--text);
    outline: none;
    flex: 1;
    min-width: 0;
  }
  .search-box input::placeholder { color: var(--text-light); }
  .search-btn {
    padding: 8px 18px;
    background: var(--orange);
    color: white;
    border: none;
    border-radius: 30px;
    font-family: 'Gamja Flower', sans-serif;
    font-size: 14px;
    cursor: pointer;
    flex-shrink: 0;
    transition: background 0.2s;
  }
  .search-btn:hover { background: var(--orange-dark); }
  .reset-btn {
    display: none;
    padding: 8px 18px;
    background: var(--warm);
    color: var(--text-light);
    border: none;
    border-radius: 30px;
    font-family: 'Gamja Flower', sans-serif;
    font-size: 14px;
    cursor: pointer;
    flex-shrink: 0;
    transition: background 0.2s;
  }
  .reset-btn:hover { background: #E8D5C0; }

  /* ê²€ìƒ‰ ê²°ê³¼ */
  .search-result {
    display: none;
    max-width: 900px;
    margin: 0 auto;
    padding: 32px 24px 80px;
  }
  .search-result.active { display: block; animation: fadeIn 0.3s ease; }
  .search-result-title {
    font-size: 15px;
    color: var(--text-light);
    margin-bottom: 20px;
  }
  .search-result-title strong { color: var(--orange); }
  .no-result {
    text-align: center;
    padding: 60px 20px;
    color: var(--text-light);
    font-size: 16px;
  }
  .no-result span { font-size: 40px; display: block; margin-bottom: 12px; }
  .result-category-label {
    font-size: 13px;
    font-weight: 700;
    color: var(--brown);
    margin: 20px 0 10px;
    padding-bottom: 6px;
    border-bottom: 1px solid var(--warm);
  }

  /* FOOTER */
    position: fixed;
    bottom: 88px;
    right: 24px;
    background: var(--brown);
    color: white;
    padding: 10px 16px;
    border-radius: 12px;
    font-size: 13px;
    font-family: 'Gamja Flower', sans-serif;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.3s;
    pointer-events: none;
    z-index: 150;
    white-space: nowrap;
  }
  .share-toast.show {
    opacity: 1;
    transform: translateY(0);
  }

  /* FOOTER */
  footer {
    text-align: center;
    padding: 24px;
    color: var(--text-light);
    font-size: 12px;
    background: var(--warm);
    border-top: 1px solid rgba(92,61,46,0.1);
  }
</style>
</head>
<body>

<header>
  <span class="header-emoji">ğŸ³</span>
  <h1>ë°”ì˜ë‹¤ ë°”ë¹  ë“ ë“ íŒŒíŒŒ ëª¨ë‹ ë ˆì‹œí”¼</h1>
  <p>ì•„ë¹ í‘œ ì•„ì¹¨ì‹ì‚¬, ì˜¤ëŠ˜ë„ ë“ ë“ í•˜ê²Œ!</p>
</header>

<nav class="nav">
  <button class="nav-btn active" onclick="showSection('main', this)">ğŸš ë©”ì¸</button>
  <button class="nav-btn" onclick="showSection('sub', this)">ğŸ¥— ì‚¬ì´ë“œ</button>
  <button class="nav-btn" onclick="showSection('dessert', this)">ğŸ° ë””ì €íŠ¸</button>
  <button class="nav-btn" onclick="showSection('pasta', this)">ğŸ íŒŒìŠ¤íƒ€</button>
</nav>

<div class="search-wrap">
  <div class="search-inner">
    <div class="search-category-row">
      <button class="search-cat-btn active" onclick="setSearchCat('ì „ì²´', this)">ì „ì²´</button>
      <button class="search-cat-btn" onclick="setSearchCat('main', this)">ğŸš ë©”ì¸</button>
      <button class="search-cat-btn" onclick="setSearchCat('sub', this)">ğŸ¥— ì‚¬ì´ë“œ</button>
      <button class="search-cat-btn" onclick="setSearchCat('dessert', this)">ğŸ° ë””ì €íŠ¸</button>
      <button class="search-cat-btn" onclick="setSearchCat('pasta', this)">ğŸ íŒŒìŠ¤íƒ€</button>
      <button class="search-cat-btn" onclick="setSearchCat('ingredient', this)">ğŸ§„ ì¬ë£Œ</button>
    </div>
    <div class="search-input-row">
      <div class="search-box">
        <span>ğŸ”</span>
        <input type="text" id="searchInput" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." onkeydown="if(event.key==='Enter') doSearch()">
      </div>
      <button class="search-btn" onclick="doSearch()">ê²€ìƒ‰</button>
      <button class="reset-btn" id="resetBtn" onclick="clearSearch()">ì´ˆê¸°í™”</button>
    </div>
  </div>
</div>

<div class="search-result" id="searchResult"></div>

<main id="mainContent">

  <!-- ë©”ì¸ -->
  <div class="section active" id="main">
    <h2 class="section-title">ğŸš ë©”ì¸</h2>
    <div class="filter-wrap">
      <div class="filter-row">
        <span class="filter-label">ë‚œì´ë„</span>
        <button class="filter-btn active" onclick="filterCards('main', 'diff', 'ì „ì²´', this)">ì „ì²´</button>
        <button class="filter-btn" onclick="filterCards('main', 'diff', 'ì‰¬ì›€', this)">â­ ì‰¬ì›€</button>
        <button class="filter-btn" onclick="filterCards('main', 'diff', 'ë³´í†µ', this)">â­â­ ë³´í†µ</button>
        <button class="filter-btn" onclick="filterCards('main', 'diff', 'ì–´ë ¤ì›€', this)">â­â­â­ ì–´ë ¤ì›€</button>
      </div>
      <div class="filter-row">
        <span class="filter-label">ì‹œê°„</span>
        <button class="filter-btn active" onclick="filterCards('main', 'time', 'ì „ì²´', this)">ì „ì²´</button>
        <button class="filter-btn" onclick="filterCards('main', 'time', '5ë¶„', this)">â± 5ë¶„</button>
        <button class="filter-btn" onclick="filterCards('main', 'time', '10ë¶„', this)">â± 10ë¶„</button>
        <button class="filter-btn" onclick="filterCards('main', 'time', '15ë¶„ì´ìƒ', this)">â± 15ë¶„+</button>
      </div>
    </div>
    <div class="cards" id="main-cards">
      <div class="card" onclick="openModal('caramelBanana')" data-diff="ì‰¬ì›€" data-time="5ë¶„">
        <div class="card-thumb main-bg"><img src="caramelbananatoast.png" alt="ì¹´ë¼ë©œ ë°”ë‚˜ë‚˜ í† ìŠ¤íŠ¸"></div>
        <div class="card-body">
          <div class="card-name">ì¹´ë¼ë©œ ë°”ë‚˜ë‚˜ í† ìŠ¤íŠ¸</div>
          <div class="card-meta">
            <span class="badge badge-time">â± 5ë¶„</span>
            <span class="badge badge-diff">â­ ì‰¬ì›€</span>
          </div>
        </div>
      </div>
      <div class="card" onclick="openModal('crabNurungji')" data-diff="ì‰¬ì›€" data-time="15ë¶„ì´ìƒ">
        <div class="card-thumb main-bg"><img src="nooroongji.png" alt="ê²Œì‚´ ëˆ„ë£½ì§€"></div>
        <div class="card-body">
          <div class="card-name">ê²Œì‚´ ëˆ„ë£½ì§€</div>
          <div class="card-meta">
            <span class="badge badge-time">â± 15ë¶„</span>
            <span class="badge badge-diff">â­ ì‰¬ì›€</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì‚¬ì´ë“œ -->
  <div class="section" id="sub">
    <h2 class="section-title">ğŸ¥— ì‚¬ì´ë“œ</h2>
    <div class="filter-wrap">
      <div class="filter-row">
        <span class="filter-label">ë‚œì´ë„</span>
        <button class="filter-btn active" onclick="filterCards('sub', 'diff', 'ì „ì²´', this)">ì „ì²´</button>
        <button class="filter-btn" onclick="filterCards('sub', 'diff', 'ì‰¬ì›€', this)">â­ ì‰¬ì›€</button>
        <button class="filter-btn" onclick="filterCards('sub', 'diff', 'ë³´í†µ', this)">â­â­ ë³´í†µ</button>
        <button class="filter-btn" onclick="filterCards('sub', 'diff', 'ì–´ë ¤ì›€', this)">â­â­â­ ì–´ë ¤ì›€</button>
      </div>
      <div class="filter-row">
        <span class="filter-label">ì‹œê°„</span>
        <button class="filter-btn active" onclick="filterCards('sub', 'time', 'ì „ì²´', this)">ì „ì²´</button>
        <button class="filter-btn" onclick="filterCards('sub', 'time', '5ë¶„', this)">â± 5ë¶„</button>
        <button class="filter-btn" onclick="filterCards('sub', 'time', '10ë¶„', this)">â± 10ë¶„</button>
        <button class="filter-btn" onclick="filterCards('sub', 'time', '15ë¶„ì´ìƒ', this)">â± 15ë¶„+</button>
      </div>
    </div>
    <div class="cards" id="sub-cards">
      <div class="empty-msg"><span>ğŸ¥—</span>ê³§ ë ˆì‹œí”¼ê°€ ì¶”ê°€ë  ì˜ˆì •ì´ì—ìš”!</div>
    </div>
  </div>

  <!-- ë””ì €íŠ¸ -->
  <div class="section" id="dessert">
    <h2 class="section-title">ğŸ° ë””ì €íŠ¸</h2>
    <div class="filter-wrap">
      <div class="filter-row">
        <span class="filter-label">ë‚œì´ë„</span>
        <button class="filter-btn active" onclick="filterCards('dessert', 'diff', 'ì „ì²´', this)">ì „ì²´</button>
        <button class="filter-btn" onclick="filterCards('dessert', 'diff', 'ì‰¬ì›€', this)">â­ ì‰¬ì›€</button>
        <button class="filter-btn" onclick="filterCards('dessert', 'diff', 'ë³´í†µ', this)">â­â­ ë³´í†µ</button>
        <button class="filter-btn" onclick="filterCards('dessert', 'diff', 'ì–´ë ¤ì›€', this)">â­â­â­ ì–´ë ¤ì›€</button>
      </div>
      <div class="filter-row">
        <span class="filter-label">ì‹œê°„</span>
        <button class="filter-btn active" onclick="filterCards('dessert', 'time', 'ì „ì²´', this)">ì „ì²´</button>
        <button class="filter-btn" onclick="filterCards('dessert', 'time', '5ë¶„', this)">â± 5ë¶„</button>
        <button class="filter-btn" onclick="filterCards('dessert', 'time', '10ë¶„', this)">â± 10ë¶„</button>
        <button class="filter-btn" onclick="filterCards('dessert', 'time', '15ë¶„ì´ìƒ', this)">â± 15ë¶„+</button>
      </div>
    </div>
    <div class="cards" id="dessert-cards">
      <div class="card" onclick="openModal('fruitYogurt')" data-diff="ì‰¬ì›€" data-time="5ë¶„">
        <div class="card-thumb dessert-bg"><img src="fruityogurt.png" alt="ê³¼ì¼ ìš”ê±°íŠ¸"></div>
        <div class="card-body">
          <div class="card-name">ê³¼ì¼ ìš”ê±°íŠ¸</div>
          <div class="card-meta">
            <span class="badge badge-time">â± 1ë¶„</span>
            <span class="badge badge-diff">â­ ì‰¬ì›€</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- íŒŒìŠ¤íƒ€ -->
  <div class="section" id="pasta">
    <h2 class="section-title">ğŸ íŒŒìŠ¤íƒ€</h2>
    <div class="filter-wrap">
      <div class="filter-row">
        <span class="filter-label">ë‚œì´ë„</span>
        <button class="filter-btn active" onclick="filterCards('pasta', 'diff', 'ì „ì²´', this)">ì „ì²´</button>
        <button class="filter-btn" onclick="filterCards('pasta', 'diff', 'ì‰¬ì›€', this)">â­ ì‰¬ì›€</button>
        <button class="filter-btn" onclick="filterCards('pasta', 'diff', 'ë³´í†µ', this)">â­â­ ë³´í†µ</button>
        <button class="filter-btn" onclick="filterCards('pasta', 'diff', 'ì–´ë ¤ì›€', this)">â­â­â­ ì–´ë ¤ì›€</button>
      </div>
      <div class="filter-row">
        <span class="filter-label">ì‹œê°„</span>
        <button class="filter-btn active" onclick="filterCards('pasta', 'time', 'ì „ì²´', this)">ì „ì²´</button>
        <button class="filter-btn" onclick="filterCards('pasta', 'time', '5ë¶„', this)">â± 5ë¶„</button>
        <button class="filter-btn" onclick="filterCards('pasta', 'time', '10ë¶„', this)">â± 10ë¶„</button>
        <button class="filter-btn" onclick="filterCards('pasta', 'time', '15ë¶„ì´ìƒ', this)">â± 15ë¶„+</button>
      </div>
    </div>
    <div class="cards" id="pasta-cards">
      <div class="card" onclick="openModal('alfredo')" data-diff="ì‰¬ì›€" data-time="15ë¶„ì´ìƒ">
        <div class="card-thumb pasta-bg"><img src="alfredorigatoni.png" alt="ì•Œí”„ë ˆë„ ë¦¬ê°€í† ë‹ˆ"></div>
        <div class="card-body">
          <div class="card-name">ì•Œí”„ë ˆë„ ë¦¬ê°€í† ë‹ˆ</div>
          <div class="card-meta">
            <span class="badge badge-time">â± 20ë¶„</span>
            <span class="badge badge-diff">â­ ì‰¬ì›€</span>
          </div>
        </div>
      </div>
    </div>
  </div>

</main>

<footer>
  ğŸ³ ë°”ì˜ë‹¤ ë°”ë¹  ë“ ë“ íŒŒíŒŒ ëª¨ë‹ ë ˆì‹œí”¼
</footer>

<div class="share-toast" id="shareToast"></div>

<!-- MODAL -->
<div class="overlay" id="overlay" onclick="closeModal(event)">
  <div class="modal" id="modal"></div>
</div>

<script>
const recipes = {
  caramelBanana: {
    emoji: 'ğŸŒ', name: 'ì¹´ë¼ë©œ ë°”ë‚˜ë‚˜ í† ìŠ¤íŠ¸', time: '5ë¶„', diff: 'â­ ì‰¬ì›€', kcal: null,
    image: 'caramelbananatoast.png',
    ingredients: ['ë°”ë‚˜ë‚˜ 1ê°œ', 'ë¬´ì—¼ë²„í„° 10g', 'ê¿€ ì•½ê°„', 'ì‹ë¹µ 1~2ì¥', 'ìŠ¬ë¼ì´ìŠ¤ ì¹˜ì¦ˆ (ì„ íƒ)'],
    steps: [
      'íŒ¬ì— ë¬´ì—¼ë²„í„°ë¥¼ ë‘ë¥¸ ë’¤, ë°”ë‚˜ë‚˜ë¥¼ ê¸¸ê²Œ ì°ì–´ ì˜¬ë¦°ë‹¤.',
      'ë°”ë‚˜ë‚˜ ìœ„ì— ê¿€ì„ ì‚´ì§ ë¿Œë ¤ ë…¸ë¦‡í•˜ê²Œ ì¹´ë¼ë©œë¼ì´ì§• í•œë‹¤.',
      'ë°”ì‹¹ êµ¬ìš´ í† ìŠ¤íŠ¸ ìœ„ì— êµ¬ìš´ ë°”ë‚˜ë‚˜ë¥¼ ì˜¬ë ¤ ì™„ì„±!'
    ],
    tip: 'ì•„ì´ìš©ì€ ë°”ë‚˜ë‚˜ë¥¼ ë¨¹ê¸° ì¢‹ì€ í¬ê¸°ë¡œ ì˜ë¼ì£¼ì„¸ìš”. ì¹˜ì¦ˆê°€ ìˆë‹¤ë©´ ì–‡ê²Œ ìŠ¬ë¼ì´ìŠ¤í•´ì„œ ì˜¬ë¦¬ë©´ ë” ë§›ìˆì–´ìš”. íŒ¬ì— í† ìŠ¤íŠ¸ë¥¼ ëˆ•í˜€ êµ¬ìš¸ ìˆ˜ ìˆë‹¤ë©´ ìŠ¬ë¼ì´ìŠ¤ ì¹˜ì¦ˆë‚˜ ëª¨ì§œë ë¼ ì¹˜ì¦ˆë¥¼ ì–¹ì–´ ë…¹ì—¬ë³´ì„¸ìš”!'
  },
  crabNurungji: {
    emoji: 'ğŸš', name: 'ê²Œì‚´ ëˆ„ë£½ì§€', time: '15ë¶„', diff: 'â­ ì‰¬ì›€', kcal: null,
    image: 'nooroongji.png',
    ingredients: ['ëˆ„ë£½ì§€ 80g', 'ë¬¼ 800ml', 'ëƒ‰ë™ì•¼ì±„ ì ë‹¹ëŸ‰', 'ëƒ‰ë™ê²Œì‚´ 30g'],
    steps: [
      'ëƒ„ë¹„ì— ë¬¼ê³¼ ëˆ„ë£½ì§€ë¥¼ ë„£ê³  12ë¶„ ì •ë„ ë“ì¸ë‹¤. ì¤‘ê°„ì¤‘ê°„ ì˜ ì €ì–´ì¤€ë‹¤.',
      'ëƒ‰ë™ì•¼ì±„ì™€ ëƒ‰ë™ê²Œì‚´ì„ ë„£ê³  3ë¶„ ë” ë“ì´ë©´ ì™„ì„±!'
    ],
    tip: 'ê²Œì‚´ì´ ì§­ì§¤í•´ì„œ ë³„ë„ì˜ ê°„ì€ í•„ìš” ì—†ì–´ìš”. ì¤‘ê°„ì¤‘ê°„ ë†ë„ë¥¼ ë³´ë©° ë¬¼ ì¡°ì ˆì„ í•´ì£¼ì„¸ìš”. ë§ˆì§€ë§‰ì— ê³„ë€ì„ í•˜ë‚˜ í’€ì–´ íœ˜ë¦¬ë¦­ ë„£ìœ¼ë©´ í’ë¯¸ê°€ ê·¹ëŒ€í™”ë¼ìš”!'
  },
  fruitYogurt: {
    emoji: 'ğŸ“', name: 'ê³¼ì¼ ìš”ê±°íŠ¸', time: '1ë¶„', diff: 'â­ ì‰¬ì›€', kcal: null,
    image: 'fruityogurt.png',
    ingredients: ['ëƒ‰ë™ê³¼ì¼ ì ë‹¹ëŸ‰', 'ìš”ê±°íŠ¸ ì ë‹¹ëŸ‰'],
    steps: [
      'ì ë‹¹ëŸ‰ì˜ ëƒ‰ë™ê³¼ì¼ì„ ì‘ì€ ê·¸ë¦‡ì— ì˜®ê²¨ ë‹´ì€ ë’¤ ì „ìë ˆì¸ì§€ì— 30ì´ˆ ëŒë¦°ë‹¤.',
      'ê·¸ë¦‡ì„ êº¼ë‚¸ ë’¤ ìš”ê±°íŠ¸ë¥¼ ë¶€ìœ¼ë©´ ì™„ì„±!'
    ],
    tip: 'ìš”ê±°íŠ¸ ì¢…ë¥˜ëŠ” ì•„ë¬´ê±°ë‚˜ ìƒê´€ì—†ì–´ìš”. ë“ ë“ ì´ë„¤ëŠ” ì§ì ‘ ë§Œë“  ê·¸ë¦­ìš”ê±°íŠ¸ë¥¼ ì‚¬ìš©í•´ìš”. ì‹œê°„ ì—¬ìœ ê°€ ìˆë‹¤ë©´ ëƒ‰ë™ê³¼ì¼ì„ ìƒì˜¨ì—ì„œ 20~30ë¶„ ë‘ì–´ë„ ì¢‹ì•„ìš”. ìƒê³¼ì¼ì´ë©´ ë” ì¢‹ë‹µë‹ˆë‹¤ ğŸ˜Š'
  },
  alfredo: {
    emoji: 'ğŸ§€', name: 'ì•Œí”„ë ˆë„ ë¦¬ê°€í† ë‹ˆ', time: '20ë¶„', diff: 'â­ ì‰¬ì›€', kcal: null,
    image: 'alfredorigatoni.png',
    ingredients: [
      'ë¦¬ê°€í† ë‹ˆë©´ 100g', 'ë¬¼ 1L', 'ì†Œê¸ˆ 10g',
      'ë¬´ì—¼ë²„í„° 20g', 'íŒŒë¥´ë¯¸ì§€ì•„ë…¸ ë ˆì§€ì•„ë…¸ (ë˜ëŠ” íŒŒë§ˆì‚° ì¹˜ì¦ˆ) ì ë‹¹ëŸ‰',
      'í›„ì¶” ì•½ê°„', 'ì†Œê¸ˆ ì•½ê°„'
    ],
    steps: [
      'ë“ëŠ” ë¬¼ 1Lì— ì†Œê¸ˆ 10gì„ ë„£ê³  ë¦¬ê°€í† ë‹ˆë©´ 100gì„ ë´‰ì§€ì— ì íŒ ì‹œê°„ë§Œí¼ ì‚¶ëŠ”ë‹¤. âš ï¸ ë©´ìˆ˜ëŠ” ë°˜ë“œì‹œ ë²„ë¦¬ì§€ ì•Šê³  ë³´ê´€!',
      'ë¬´ì—¼ë²„í„° 20gì„ ì „ìë ˆì¸ì§€ì— 20~30ì´ˆ ëŒë ¤ ì•¡ì²´ì²˜ëŸ¼ ë…¹ì¸ë‹¤.',
      'ì‚¶ì€ ë©´ê³¼ ë…¹ì¸ ë²„í„°ë¥¼ ë³¼ì— ë„£ê³ , ë©´ìˆ˜ë¥¼ ì•„ì£¼ ì¡°ê¸ˆì”© ì¶”ê°€í•˜ë©° ë§Œí…Œê¹Œë ˆ(ìœ í™”)í•´ì¤€ë‹¤. âš ï¸ ë©´ìˆ˜ë¥¼ ë„ˆë¬´ ë§ì´ ë„£ìœ¼ë©´ êµ­ì´ ë˜ë¯€ë¡œ ì¡°ê¸ˆì”©!',
      'ì¹˜ì¦ˆì™€ í›„ì¶”ë¥¼ ì ë‹¹ëŸ‰ ê°ˆì•„ì„œ ë³¼ì— ë„£ê³  í•¨ê»˜ ì„ì–´ì¤€ë‹¤.',
      'íŒ¬ìœ¼ë¡œ ì˜®ê¸´ ë’¤ í›„ì¶”, ì†Œê¸ˆ, ì¹˜ì¦ˆë¥¼ ì†ŒëŸ‰ ë” ë¿Œë ¤ì£¼ë©´ ì™„ì„±!'
    ],
    tip: 'í¬ì¸íŠ¸ëŠ” ë§Œí…Œê¹Œë ˆ! ë©´ìˆ˜ë¥¼ ì•„ì£¼ ì‚´ì§ì”© ë„£ìœ¼ë©° ë²„í„°Â·ì¹˜ì¦ˆÂ·ë©´ì´ ì˜ ìœµí™”ë˜ì–´ í¬ë¦¬ë¯¸í•œ ì§ˆê°ì´ ë˜ë„ë¡ í•˜ëŠ” ê²Œ í•µì‹¬ì´ì—ìš”.'
  }
};

function safeReplaceState(hash) {
  try { history.replaceState(null, '', hash); } catch(e) {}
}

function shareLink() {
  const url = window.location.href;
  if (navigator.share) {
    navigator.share({
      title: 'ë°”ì˜ë‹¤ ë°”ë¹  ë“ ë“ íŒŒíŒŒ ëª¨ë‹ ë ˆì‹œí”¼',
      text: 'ì•„ë¹ í‘œ ì•„ì¹¨ì‹ì‚¬ ë ˆì‹œí”¼ ëª¨ìŒì´ì—ìš” ğŸ³',
      url: url
    });
  } else {
    navigator.clipboard.writeText(url).then(() => {
      const toast = document.getElementById('shareToast');
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2500);
    });
  }
}

function shareRecipe(key) {
  const url = window.location.origin + window.location.pathname + '#' + key;
  if (navigator.share) {
    const r = recipes[key];
    navigator.share({
      title: r.name + ' - ë“ ë“ íŒŒíŒŒ ë ˆì‹œí”¼',
      text: `${r.name} ë ˆì‹œí”¼ ê³µìœ í•´ìš” ğŸ³`,
      url: url
    });
  } else {
    navigator.clipboard.writeText(url).then(() => showToast('ë§í¬ê°€ ë³µì‚¬ëì–´ìš”! ğŸ“‹'));
  }
}

function copyRecipe(key) {
  const r = recipes[key];
  const text = `ğŸ“Œ ${r.name}
â± ${r.time} | ${r.diff}${r.kcal ? ` | ğŸ”¥ ${r.kcal}` : ''}

ğŸ›’ ì¬ë£Œ
${r.ingredients.map(i => `â€¢ ${i}`).join('\n')}

ğŸ‘¨â€ğŸ³ ë§Œë“œëŠ” ë²•
${r.steps.map((s, i) => `${i+1}. ${s}`).join('\n')}

ğŸ’¡ íŒ
${r.tip}

ğŸ“± ë°”ì˜ë‹¤ ë°”ë¹  ë“ ë“ íŒŒíŒŒ ëª¨ë‹ ë ˆì‹œí”¼
${window.location.origin + window.location.pathname}`;

  navigator.clipboard.writeText(text).then(() => showToast('ë ˆì‹œí”¼ê°€ ë³µì‚¬ëì–´ìš”! ğŸ“‹'));
}

function showToast(msg) {
  const toast = document.getElementById('shareToast');
  toast.textContent = msg;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 2500);
}

// í•´ì‹œë¡œ ë ˆì‹œí”¼ ì§ì ‘ ì—´ê¸°
window.addEventListener('load', () => {
  const hash = window.location.hash.replace('#', '');
  if (hash && recipes[hash]) openModal(hash);
});

// ì¹´ë“œ ì¹´í…Œê³ ë¦¬ ë§¤í•‘
const cardCategory = {
  caramelBanana: 'main',
  crabNurungji: 'main',
  fruitYogurt: 'dessert',
  alfredo: 'pasta'
};

const categoryName = {
  main: 'ğŸš ë©”ì¸',
  sub: 'ğŸ¥— ì‚¬ì´ë“œ',
  dessert: 'ğŸ° ë””ì €íŠ¸',
  pasta: 'ğŸ íŒŒìŠ¤íƒ€'
};

let currentSearchCat = 'ì „ì²´';

function setSearchCat(cat, btn) {
  currentSearchCat = cat;
  document.querySelectorAll('.search-cat-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  const input = document.getElementById('searchInput');
  if (cat === 'ingredient') {
    input.placeholder = 'ì¬ë£Œëª…ì„ ì…ë ¥í•˜ì„¸ìš”... (ì˜ˆ: ê¿€, ë²„í„°)';
  } else if (cat === 'ì „ì²´') {
    input.placeholder = 'ë©”ë‰´ëª… ë˜ëŠ” ì¬ë£Œë¡œ ê²€ìƒ‰...';
  } else {
    input.placeholder = `${categoryName[cat]} ë©”ë‰´ë¥¼ ê²€ìƒ‰í•˜ì„¸ìš”...`;
  }
}

function doSearch() {
  const query = document.getElementById('searchInput').value.trim();
  const searchResult = document.getElementById('searchResult');
  const mainContent = document.getElementById('mainContent');
  const resetBtn = document.getElementById('resetBtn');

  if (!query) {
    alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
    return;
  }

  mainContent.style.display = 'none';
  searchResult.classList.add('active');
  resetBtn.style.display = 'block';

  const results = {};

  Object.entries(recipes).forEach(([key, r]) => {
    const cat = cardCategory[key];

    // ì¹´í…Œê³ ë¦¬ í•„í„°
    if (currentSearchCat !== 'ì „ì²´' && currentSearchCat !== 'ingredient' && cat !== currentSearchCat) return;

    let matched = false;

    if (currentSearchCat === 'ingredient') {
      // ì¬ë£Œ ê²€ìƒ‰ë§Œ
      matched = r.ingredients.some(i => i.includes(query));
    } else {
      // ë©”ë‰´ëª… + ì¬ë£Œ ê²€ìƒ‰
      matched = r.name.includes(query) || r.ingredients.some(i => i.includes(query));
    }

    if (matched) {
      if (!results[cat]) results[cat] = [];
      results[cat].push({ key, recipe: r });
    }
  });

  const totalCount = Object.values(results).flat().length;

  if (totalCount === 0) {
    searchResult.innerHTML = `
      <div class="search-result-title">"<strong>${query}</strong>" ê²€ìƒ‰ ê²°ê³¼</div>
      <div class="no-result"><span>ğŸ¤”</span>ì¼ì¹˜í•˜ëŠ” ë ˆì‹œí”¼ê°€ ì—†ì–´ìš”<br>ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¡œ ì‹œë„í•´ë³´ì„¸ìš”!</div>
    `;
    return;
  }

  let html = `<div class="search-result-title">"<strong>${query}</strong>" ê²€ìƒ‰ ê²°ê³¼ <strong>${totalCount}ê°œ</strong></div>`;

  Object.entries(results).forEach(([cat, items]) => {
    html += `<div class="result-category-label">${categoryName[cat]}</div><div class="cards">`;
    items.forEach(({ key, recipe: r }) => {
      const thumb = r.image
        ? `<img src="${r.image}" alt="${r.name}">`
        : r.emoji;
      html += `
        <div class="card" onclick="openModal('${key}')">
          <div class="card-thumb ${cat}-bg">${thumb}</div>
          <div class="card-body">
            <div class="card-name">${r.name}</div>
            <div class="card-meta">
              <span class="badge badge-time">â± ${r.time}</span>
              <span class="badge badge-diff">${r.diff}</span>
              ${r.kcal ? `<span class="badge badge-kcal">ğŸ”¥ ${r.kcal}</span>` : ''}
            </div>
          </div>
        </div>`;
    });
    html += `</div>`;
  });

  searchResult.innerHTML = html;
}

function clearSearch() {
  document.getElementById('searchInput').value = '';
  document.getElementById('resetBtn').style.display = 'none';
  document.getElementById('searchResult').classList.remove('active');
  document.getElementById('searchResult').innerHTML = '';
  document.getElementById('mainContent').style.display = 'block';
}

const filterState = {};

function filterCards(sectionId, type, value, btn) {
  // ë²„íŠ¼ í™œì„±í™”
  const section = document.getElementById(sectionId);
  const rowBtns = btn.closest('.filter-row').querySelectorAll('.filter-btn');
  rowBtns.forEach(b => b.classList.remove('active'));
  btn.classList.add('active');

  // í˜„ì¬ ì„¹ì…˜ í•„í„° ìƒíƒœ ì €ì¥
  if (!filterState[sectionId]) filterState[sectionId] = { diff: 'ì „ì²´', time: 'ì „ì²´' };
  filterState[sectionId][type] = value;

  // ì¹´ë“œ í•„í„°ë§ (OR ì¡°ê±´ - ë‘˜ ë‹¤ ì „ì²´ê±°ë‚˜, ê°ê° ë§¤ì¹­ë˜ë©´ ë³´ì—¬ì¤Œ)
  const cards = section.querySelectorAll('.card');
  const { diff, time } = filterState[sectionId];

  cards.forEach(card => {
    const matchDiff = diff === 'ì „ì²´' || card.dataset.diff === diff;
    const matchTime = time === 'ì „ì²´' || card.dataset.time === time;
    if (matchDiff && matchTime) {
      card.classList.remove('hidden');
    } else {
      card.classList.add('hidden');
    }
  });
}

function showSection(id, btn) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  btn.classList.add('active');
  document.getElementById('mainContent').style.display = 'block';
  document.getElementById('searchResult').classList.remove('active');
}

function openModal(key) {
  const r = recipes[key];
  const modal = document.getElementById('modal');
  safeReplaceState('#' + key);
  modal.innerHTML = `
    <div class="modal-header">
      <div>
        <span class="modal-emoji">${r.emoji}</span>
        <div class="modal-title">${r.name}</div>
      </div>
      <div class="modal-actions">
        <button class="modal-action-btn" onclick="copyRecipe('${key}')" title="ë‚´ìš© ë³µì‚¬">ğŸ“‹</button>
        <button class="modal-action-btn" onclick="shareRecipe('${key}')" title="ë§í¬ ê³µìœ ">ğŸ”—</button>
        <button class="modal-action-btn" onclick="closeModal()" title="ë‹«ê¸°">âœ•</button>
      </div>
    </div>
    <div class="modal-body">
      <div class="meta-row">
        <span class="badge badge-time">â± ${r.time}</span>
        <span class="badge badge-diff">${r.diff}</span>
        ${r.kcal ? `<span class="badge badge-kcal">ğŸ”¥ ${r.kcal}</span>` : ''}
      </div>
      <div class="modal-section-title">ì¬ë£Œ</div>
      <ul class="ingredient-list">${r.ingredients.map(i => `<li>${i}</li>`).join('')}</ul>
      <div class="modal-section-title">ë§Œë“œëŠ” ë²•</div>
      <ol class="step-list">${r.steps.map(s => `<li>${s}</li>`).join('')}</ol>
      <div class="tip-box"><strong>ğŸ’¡ íŒ</strong> ${r.tip}</div>
    </div>
  `;
  document.getElementById('overlay').classList.add('open');
}

function closeModal(e) {
  if (!e || e.target === document.getElementById('overlay')) {
    document.getElementById('overlay').classList.remove('open');
    safeReplaceState(window.location.pathname);
  }
}
</script>
</body>
</html>
